<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Catch the Ball Game</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      background: #1e293b;
      color: white;
      font-family: Arial, sans-serif;
    }
    #gameCanvas {
      background: #334155;
      border: 3px solid #94a3b8;
      border-radius: 10px;
    }
    #scoreBoard {
      position: absolute;
      top: 20px;
      left: 20px;
      font-size: 20px;
    }
    #livesBoard {
      position: absolute;
      top: 20px;
      right: 20px;
      font-size: 20px;
    }
  </style>
</head>
<body>
  <div id="scoreBoard">Score: 0 | Level: 1</div>
  <div id="livesBoard">Lives: 3</div>
  <canvas id="gameCanvas" width="500" height="600"></canvas>

  <script>
    const canvas = document.getElementById("gameCanvas");
    const ctx = canvas.getContext("2d");
    const scoreBoard = document.getElementById("scoreBoard");
    const livesBoard = document.getElementById("livesBoard");

    let basket = { x: 220, y: 550, width: 60, height: 20, speed: 20 };
    let ball = { x: Math.random() * 480, y: 0, radius: 10, speed: 3 };
    let score = 0;
    let lives = 3;
    let level = 1;

    // Draw basket
    function drawBasket() {
      ctx.fillStyle = "#fbbf24";
      ctx.fillRect(basket.x, basket.y, basket.width, basket.height);
    }

    // Draw ball
    function drawBall() {
      ctx.beginPath();
      ctx.arc(ball.x, ball.y, ball.radius, 0, Math.PI * 2);
      ctx.fillStyle = "#38bdf8";
      ctx.fill();
      ctx.closePath();
    }

    // Move ball
    function moveBall() {
      ball.y += ball.speed;
      if (ball.y > canvas.height) {
        ball.y = 0;
        ball.x = Math.random() * (canvas.width - ball.radius);
        lives -= 1; // lose life if missed
        updateHUD();
        if (lives <= 0) {
          alert("Game Over! Final Score: " + score);
          resetGame();
        }
      }
    }

    // Check collision
    function checkCollision() {
      if (
        ball.y + ball.radius >= basket.y &&
        ball.x >= basket.x &&
        ball.x <= basket.x + basket.width
      ) {
        score += 1;
        updateHUD();
        ball.y = 0;
        ball.x = Math.random() * (canvas.width - ball.radius);

        // Increase difficulty every 5 points
        if (score % 5 === 0) {
          level++;
          ball.speed += 1; // increase ball speed
          updateHUD();
        }
      }
    }

    // Update scoreboard and lives
    function updateHUD() {
      scoreBoard.innerText = "Score: " + score + " | Level: " + level;
      livesBoard.innerText = "Lives: " + lives;
    }

    // Clear canvas
    function clearCanvas() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
    }

    // Reset game
    function resetGame() {
      score = 0;
      lives = 3;
      level = 1;
      ball.speed = 3;
      updateHUD();
    }

    // Game loop
    function gameLoop() {
      clearCanvas();
      drawBasket();
      drawBall();
      moveBall();
      checkCollision();
      requestAnimationFrame(gameLoop);
    }

    // Basket movement
    document.addEventListener("keydown", (e) => {
      if (e.key === "ArrowLeft" && basket.x > 0) {
        basket.x -= basket.speed;
      } else if (e.key === "ArrowRight" && basket.x < canvas.width - basket.width) {
        basket.x += basket.speed;
      }
    });

    // Start game
    updateHUD();
    gameLoop();
  </script>
</body>
</html>
